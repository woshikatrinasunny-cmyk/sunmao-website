{% extends "base.html" %}
{% block content %}
<section class="section">
    <div class="shop-header">
        <h2 class="section-title">榫卯文创商品</h2>
        <div class="shop-search">
            <input type="text" placeholder="搜索商品名称" class="search-input">
        </div>
        <div class="shop-filters">
            <span class="filter-btn active">官方推荐</span>
            <span class="filter-btn">益智玩具</span>
            <span class="filter-btn">建筑模型</span>
            <span class="filter-btn">家居摆件</span>
        </div>
    </div>

    <div class="product-list">
        <!-- 黄河区域原创文创 - 秋风楼日历 -->
        <div class="product-item featured-item" onclick="showProductDetail(event, 'qfl-calendar')">
            <div class="product-badge">黄河区域原创</div>
            <div class="product-img-gallery">
                <div class="gallery-main-img">
                    <img id="qfl-img" src="{{ url_for('static', filename='images/秋风楼日历3.jpg') }}" 
                         onerror="this.src='{{ url_for('static', filename='images/placeholder.svg') }}'" 
                         alt="秋风楼日历">
                </div>
                <div class="gallery-dots">
                    <span class="dot" onclick="changeProductImage(event, 'qfl-img', '{{ url_for('static', filename='images/秋风楼日历3.jpg') }}')"></span>
                    <span class="dot" onclick="changeProductImage(event, 'qfl-img', '{{ url_for('static', filename='images/秋风楼日历4.jpg') }}')"></span>
                    <span class="dot" onclick="changeProductImage(event, 'qfl-img', '{{ url_for('static', filename='images/秋风楼日历1.png') }}')"></span>
                    <span class="dot" onclick="changeProductImage(event, 'qfl-img', '{{ url_for('static', filename='images/秋风楼日历2.png') }}')"></span>
                    <span class="dot" onclick="changeProductImage(event, 'qfl-img', '{{ url_for('static', filename='images/秋风楼日历5.png') }}')"></span>
                </div>
            </div>
            <div class="product-info">
                <h3>秋风楼日历</h3>
                <p class="product-desc">后土祠秋风楼主题精美日历，融合黄河文化与建筑美学</p>
                <p class="product-sales">2026年全年 · 5款设计</p>
                <p class="product-price">¥ <span>68</span>.00</p>
            </div>
        </div>

        <!-- 黄河区域原创文创 - 飞云楼日历 -->
        <div class="product-item featured-item" onclick="showProductDetail(event, 'fyl-calendar')">
            <div class="product-badge">黄河区域原创</div>
            <div class="product-img-gallery">
                <div class="gallery-main-img">
                    <img id="fyl-img" src="{{ url_for('static', filename='images/飞云楼日历1.png') }}" 
                         onerror="this.src='{{ url_for('static', filename='images/placeholder.svg') }}'" 
                         alt="飞云楼日历">
                </div>
                <div class="gallery-dots">
                    <span class="dot" onclick="changeProductImage(event, 'fyl-img', '{{ url_for('static', filename='images/飞云楼日历1.png') }}')"></span>
                    <span class="dot" onclick="changeProductImage(event, 'fyl-img', '{{ url_for('static', filename='images/飞云楼日历2.png') }}')"></span>
                </div>
            </div>
            <div class="product-info">
                <h3>飞云楼日历</h3>
                <p class="product-desc">万荣飞云楼主题日历，展现纯木结构建筑的榫卯之美</p>
                <p class="product-sales">2026年全年 · 2款设计</p>
                <p class="product-price">¥ <span>68</span>.00</p>
            </div>
        </div>

        <!-- 官方推荐商品 -->
        <a href="#product1" class="product-item" onclick="showProductDetail(event, 'product1')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/product1.jpg') }}" 
                     onerror="this.src='{{ url_for('static', filename='images/placeholder.svg') }}'" 
                     alt="沉香亭榫卯模型"
                     loading="lazy">
            </div>
            <div class="product-info">
                <h3>沉香亭榫卯模型</h3>
                <p class="product-desc">1:50比例复刻唐代沉香亭，采用优质榉木，纯榫卯结构</p>
                <p class="product-sales">月销量 300+ · 好评率 98%</p>
                <p class="product-price">¥ <span>230</span>.00起</p>
            </div>
        </a>
        
        <a href="#product2" class="product-item" onclick="showProductDetail(event, 'product2')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/product2.jpg') }}" 
                     onerror="this.src='{{ url_for('static', filename='images/placeholder.svg') }}'" 
                     alt="十二生肖鲁班锁套装"
                     loading="lazy">
            </div>
            <div class="product-info">
                <h3>十二生肖鲁班锁套装</h3>
                <p class="product-desc">12款不同难度的鲁班锁，每款对应一个生肖造型</p>
                <p class="product-sales">月销量 520+ · 好评率 99%</p>
                <p class="product-price">¥ <span>88</span>.00起</p>
            </div>
        </a>
        
        <a href="#product3" class="product-item" onclick="showProductDetail(event, 'product3')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/product3.jpg') }}" 
                     onerror="this.src='{{ url_for('static', filename='images/placeholder.svg') }}'" 
                     alt="黄鹤楼榫卯模型"
                     loading="lazy">
            </div>
            <div class="product-info">
                <h3>黄鹤楼榫卯模型</h3>
                <p class="product-desc">1:75比例还原武汉黄鹤楼，468个零件，全榫卯结构</p>
                <p class="product-sales">月销量 280+ · 好评率 97%</p>
                <p class="product-price">¥ <span>328</span>.00起</p>
            </div>
        </a>
        
        <a href="#product4" class="product-item" onclick="showProductDetail(event, 'product4')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/product4.jpg') }}" 
                     onerror="this.src='{{ url_for('static', filename='images/placeholder.svg') }}'" 
                     alt="经典榉木鲁班锁"
                     loading="lazy">
            </div>
            <div class="product-info">
                <h3>经典榉木鲁班锁</h3>
                <p class="product-desc">传统六子联方鲁班锁，精选进口榉木，手工打磨</p>
                <p class="product-sales">月销量 680+ · 好评率 99%</p>
                <p class="product-price">¥ <span>58</span>.00起</p>
            </div>
        </a>
        
        <a href="#product5" class="product-item" onclick="showProductDetail(event, 'product5')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/placeholder.svg') }}" 
                     alt="应县木塔精密模型"
                     loading="lazy">
                <div class="placeholder-text">应县木塔模型</div>
            </div>
            <div class="product-info">
                <h3>应县木塔精密模型</h3>
                <p class="product-desc">1:100比例复刻辽代应县木塔，1200+零件，纯榫卯结构</p>
                <p class="product-sales">月销量 150+ · 好评率 100%</p>
                <p class="product-price">¥ <span>688</span>.00起</p>
            </div>
        </a>
        
        <a href="#product6" class="product-item" onclick="showProductDetail(event, 'product6')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/placeholder.svg') }}" 
                     alt="飞云楼榫卯模型"
                     loading="lazy">
                <div class="placeholder-text">飞云楼模型</div>
            </div>
            <div class="product-info">
                <h3>飞云楼榫卯模型</h3>
                <p class="product-desc">1:60比例还原万荣飞云楼，三层四檐，斗拱结构精美</p>
                <p class="product-sales">月销量 180+ · 好评率 98%</p>
                <p class="product-price">¥ <span>398</span>.00起</p>
            </div>
        </a>
        
        <a href="#product7" class="product-item" onclick="showProductDetail(event, 'product7')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/placeholder.svg') }}" 
                     alt="榫卯结构书签套装"
                     loading="lazy">
                <div class="placeholder-text">榫卯书签</div>
            </div>
            <div class="product-info">
                <h3>榫卯结构书签套装</h3>
                <p class="product-desc">10款经典榫卯结构书签，黄铜材质，激光雕刻</p>
                <p class="product-sales">月销量 420+ · 好评率 99%</p>
                <p class="product-price">¥ <span>39</span>.00起</p>
            </div>
        </a>
        
        <a href="#product8" class="product-item" onclick="showProductDetail(event, 'product8')">
            <div class="product-img">
                <img src="{{ url_for('static', filename='images/placeholder.svg') }}" 
                     alt="儿童榫卯启蒙积木"
                     loading="lazy">
                <div class="placeholder-text">儿童积木</div>
            </div>
            <div class="product-info">
                <h3>儿童榫卯启蒙积木</h3>
                <p class="product-desc">120件大颗粒榫卯积木，安全环保，培养空间思维</p>
                <p class="product-sales">月销量 890+ · 好评率 99%</p>
                <p class="product-price">¥ <span>128</span>.00起</p>
            </div>
        </a>
    </div>
</section>

<script>
function changeProductImage(event, imgId, newSrc) {
    event.stopPropagation(); // 防止触发商品详情
    const img = document.getElementById(imgId);
    img.src = newSrc;
    
    // 更新圆点激活状态
    const gallery = img.closest('.product-img-gallery');
    gallery.querySelectorAll('.dot').forEach((dot, index) => {
        dot.classList.remove('active');
    });
    event.currentTarget.classList.add('active');
}

function showProductDetail(event, productId) {
    event.preventDefault();
    
    document.querySelectorAll('.product-item').forEach(item => {
        item.classList.remove('selected');
    });
    
    event.currentTarget.classList.add('selected');
    
    const productName = event.currentTarget.querySelector('h3').textContent;
    alert(`商品详情：${productName}\n\n点击确定查看更多信息（功能开发中）`);
}
</script>

<style>
.product-desc {
    font-size: 0.85rem;
    color: var(--text-mid);
    line-height: 1.5;
    margin: 8px 0;
}

.product-img {
    position: relative;
    overflow: hidden;
}

/* 多图展示样式 */
.product-img-gallery {
    position: relative;
    overflow: hidden;
}

.gallery-main-img {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: white;
}

.gallery-main-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.gallery-dots {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 6px;
    z-index: 10;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    transition: all 0.3s;
    border: 1px solid rgba(0, 0, 0, 0.2);
}

.dot:hover {
    background: rgba(255, 255, 255, 0.9);
    transform: scale(1.2);
}

.dot.active,
.dot:first-child {
    background: white;
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
}

.placeholder-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(184, 160, 126, 0.9);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    white-space: nowrap;
    pointer-events: none;
}

.product-item {
    cursor: pointer;
    transition: all 0.3s;
    text-decoration: none;
    color: inherit;
    display: block;
    position: relative;
}

.product-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.product-item.selected {
    border: 2px solid var(--accent);
    box-shadow: 0 8px 25px rgba(184, 160, 126, 0.3);
}

/* 原创商品徽章 */
.featured-item {
    border: 2px solid var(--accent);
}

.product-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background: linear-gradient(135deg, #d4a574 0%, #c19a6b 100%);
    color: white;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}
</style>
{% endblock %}
